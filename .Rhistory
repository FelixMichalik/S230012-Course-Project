for (j in 1:length(f_names)) {
if (f_countries[j] %in% prostitution_legal ) {
f_prostitution[j] = "Yes"
}else{
f_prostitution[j] = "No"
}
}
view(f_prostitution)
view(f_countries, f_prostitution)
view(f_prostitution)
f_prostitution <- rep(NA, length(f_names))
prostitution_legal <- c("Denmark", "Finland", "Belgium", "Germany", "Greece", "Italy", "Switzerland", "Netherlands", "The Netherlands", "Spain")
for (j in 1:length(f_names)) {
if (f_countries[j] %in% prostitution_legal ) {
f_prostitution[j] = "Yes"
}else{
f_prostitution[j] = "No"
}
}
view(f_prostitution)
f_weed <- rep(NA, length(f_names))
weed_legal <- c("Croatia", "Sweden", "Portugal", "Turkey", "Macedonia", "Finland", "Norway", "Poland", "Denmark", "Estonia", "Greece", "Switzerland", "Austria", "Italy", "Germany", "Belgium", "Netherlands", "The Netherlands")
for (k in 1:length(f_names)) {
if (f_countries[k] %in% weed_legal ) {
f_prostitution[k] = "Yes"
}else{
f_prostitution[k] = "No"
}
}
rm(weed_legal)
f_prostitution <- rep(NA, length(f_names))
prostitution_legal <- c("Denmark", "Finland", "Belgium", "Germany", "Greece", "Italy", "Switzerland", "Netherlands", "The Netherlands", "Spain")
for (j in 1:length(f_names)) {
if (f_countries[j] %in% prostitution_legal ) {
f_prostitution[j] = "Yes"
}else{
f_prostitution[j] = "No"
}
}
rm(prostitution_legal)
f_prostitution <- rep(NA, length(f_names))
prostitution_legal <- c("Denmark", "Finland", "Belgium", "Germany", "Greece", "Italy", "Switzerland", "Netherlands", "The Netherlands", "Spain")
for (j in 1:length(f_names)) {
if (f_countries[j] %in% prostitution_legal ) {
f_prostitution[j] = "Yes"
}else{
f_prostitution[j] = "No"
}
}
rm(prostitution_legal)
f_weed <- rep(NA, length(f_names))
weed_legal <- c("Croatia", "Sweden", "Portugal", "Turkey", "Macedonia", "Finland", "Norway", "Poland", "Denmark", "Estonia", "Greece", "Switzerland", "Austria", "Italy", "Germany", "Belgium", "Netherlands", "The Netherlands")
for (k in 1:length(f_names)) {
if (f_countries[k] %in% weed_legal ) {
f_weed[k] = "Yes"
}else{
f_weed[k] = "No"
}
}
rm(weed_legal)
f_uber <- rep(NA, length(f_names))
is_there_uber <- c("Austria", "Belgium", "Croatia", "Czech Republic", "Denmark", "Estonia", "Finland", "France", "Germany", "Greece", "Hungary", "Ireland", "Italy", "Lithuania", "Netherlands", "The Netherlands", "Norway", "Poland", "Portugal", "Romania", "Slovakia", "Spain", "Sweden", "Switzerland", "United Kingdom")
for (l in 1:length(f_names)) {
if (f_countries[l] %in% is_there_uber ) {
f_uber[l] = "Yes"
}else{
f_uber[l] = "No"
}
}
rm(is_there_uber)
runApp('project')
f_sti <- rep(NA, length(f_names))
high_risk <- c("United Kingdom", "Denmark", "Sweden", "Iceland", "Norway")
for (m in 1:length(f_names)) {
if (f_countries[m] %in% high_risk ) {
f_sti[m] = "High risk! (>10%)"
}else{
f_sti[m] = "All good (<10%)"
}
}
rm(high_risk)
view(f_sti)
prices_beer <- read.csv("beerprices.csv")
prices_beer <- read.csv("beerprices.csv")
View(prices_beer)
View(prices_beer)
f_beer <- rep(NA, length(f_names))
prices_beer <- read.csv("beerprices.csv")
for (n in 1:length(f_names)) {
if (f_countries[n] == prices_beer$country) {
f_beer[n] = prices_beer$price
}
}
view(f_beer)
f_beer <- rep(NA, length(f_names))
prices_beer <- read.csv("beerprices.csv")
for (n in 1:length(f_names)) {
for(z in 1:177){
if (f_countries[n] == prices_beer$country[z]) {
f_beer[n] = prices_beer$price[z]
}
}
}
view(f_beer)
view(f_countries)
f_beer <- rep(NA, length(f_names))
prices_beer <- read.csv("beerprices.csv")
for (n in 1:length(f_names)) {
for(z in 1:177){
if (f_countries[n] == prices_beer$country[z]) {
f_beer[n] = prices_beer$price[z]
}else{
f_beer[n] = 5.67
}
}
}
f_beer <- rep(5.67, length(f_names))
prices_beer <- read.csv("beerprices.csv")
for (n in 1:length(f_names)) {
for(z in 1:177){
if (f_countries[n] == prices_beer$country[z]) {
f_beer[n] = prices_beer$price[z]
}
}
}
view(f_beer)
compiled <- data.frame("Country" = f_countries, "Festival" = f_names, "Average price of beer" = f_beer, "Is weed legal?" = f_weed, "Is prostitution legal?" = f_prostitution, "Do they have Uber?" = f_uber, "Propensity of STI infection" = f_sti)
View(compiled)
View(compiled)
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
View(prices_beer)
View(music_festivals)
View(music_festivals)
View(compiled)
View(compiled)
runApp('test')
runApp('test')
runApp('test')
prices_beer <- read.csv("beerprices.csv")
รง
runApp('test')
runApp('test')
runApp('project')
runApp('project')
f_names <- toString(festival_names)
runApp('project')
runApp('project')
runApp('project')
runApp('project')
f_names[1:15] <- f_named
runApp('project')
runApp('project')
runApp('project')
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
data_beer = read.csv("beerprices.csv")
View(data_beer)
View(data_beer)
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
f_names <- festival_names
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
View(compiled)
knitr::opts_chunk$set(echo = TRUE)
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
music_festivals2 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/2/")
music_festivals2children <- xml_children(music_festivals2)
for (child in music_festivals2children) {
xml_add_child(music_festivals, child)
}
music_festivals3 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/3/")
music_festivals3children <- xml_children(music_festivals3)
for (child in music_festivals3children) {
xml_add_child(music_festivals, child)
}
music_festivals4 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/4/")
music_festivals4children <- xml_children(music_festivals3)
for (child in music_festivals4children) {
xml_add_child(music_festivals, child)
}
music_festivals5 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/5/")
music_festivals5children <- xml_children(music_festivals3)
for (child in music_festivals5children) {
xml_add_child(music_festivals, child)
}
music_festivals6 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/6/")
music_festivals6children <- xml_children(music_festivals3)
for (child in music_festivals6children) {
xml_add_child(music_festivals, child)
}
music_festivals7 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/7/")
music_festivals7children <- xml_children(music_festivals3)
for (child in music_festivals7children) {
xml_add_child(music_festivals, child)
}
music_festivals8 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/8/")
music_festivals8children <- xml_children(music_festivals3)
for (child in music_festivals8children) {
xml_add_child(music_festivals, child)
}
music_festivals9 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/9/")
music_festivals9children <- xml_children(music_festivals3)
for (child in music_festivals9children) {
xml_add_child(music_festivals, child)
}
music_festivals10 = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/page/10/")
music_festivals10children <- xml_children(music_festivals3)
for (child in music_festivals10children) {
xml_add_child(music_festivals, child)
}
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*,\n    \"addressRegion\": \" *(.?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
data_festival$names
View(data_festival)
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*,\n    \"addressRegion\": \" *(.?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
data_festival$country
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*\"\n    \"addressRegion\": \" *(.*?) *\"\n  }\n}\n  \"name\.*", "\\1", festivals[i])))
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*\"\n    \"addressRegion\": \"*(.*?) *\"\n  }\n}\n  \"name\.*", "\\1", festivals[i])))
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
#  festival_country[i] = gsub("\\,", "", (sub(".*\"\n    \"addressRegion\": \"*(.*?) *\"\n  }\n}\n  \"name\.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
#data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
#data_festival$country
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
data_festival$country
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
music_festivals
data_festival$country
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
music_festivals
#data_festival$country
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".**(.*?) *.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*sd*(.*?) *sd.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
data_festival$country
register_google(key = "AIzaSyA4D9aPj-qv-E2uJOZftIks39gfKV8hT4g")
#Webscrape music festival data
music_festivals = read_html("https://www.musicfestivalwizard.com/festival-guide/europe-festivals/")
festivals <- music_festivals %>%
html_nodes(".mobile-one-whole") %>%
html_text()
n = length(festivals)
festival_names = rep("", n)
festival_locations = rep("", n)
festival_country = rep("", n)
festival_dates = rep("", n)
festival_end_dates = rep("", n)
festival_cities_coord = rep(NA, n)
for (i in 1:n){
festival_names[i] = gsub("\\,", "", (sub(".*\"\n  }\n},\n  \"name\": \"*(.*?) *\",\n  \"description\":.*", "\\1", festivals[i])))
festival_locations[i] = paste(gsub("\\,", "", (sub(".*\"addressLocality\": \"*(.*?) *\",\n.*", "\\1", festivals[i]))), gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i]))))
festival_country[i] = gsub("\\,", "", (sub(".*\",\n    \"addressRegion\": \" *(.*?) *\"\n  }\n},\n  \"name\":.*", "\\1", festivals[i])))
festival_dates[i] = gsub("\\,", "", (sub(".*\n \"startDate\": \"*(.*?) *\",\n \"endDate\":.*", "\\1", festivals[i])))
festival_end_dates[i] = gsub("\\,", "", (sub(".*\"endDate\": \"*(.*?) *\"\n.*", "\\1", festivals[i])))
}
data_festival = geocode(festival_locations, source = "google")
data_festival$names =  festival_names
data_festival$locations = festival_locations
data_festival$country = festival_country
data_festival$dates = as.Date(festival_dates, "%B %d %Y")
is.data.frame(data_festival)
data_festival$country
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
View(compiled)
View(compiled)
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
View(data_festival)
View(data_festival)
runApp('~/Documents/GitHub/project/project')
View(data_festival)
runApp('~/Documents/GitHub/project/project')
View(data_festival)
View(data_festival)
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
View(compiled)
View(compiled)
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
runApp('~/Documents/GitHub/project/project')
runApp('Documents/GitHub/project/project')
runApp('Documents/GitHub/project/project')
